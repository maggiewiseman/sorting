<html>
<head>
<!--<script src="../index.js" type="text/javascript">
  </script> -->
  <script>
    var merge = function (arr, leftIndex, midIndex, rightIndex) {
      //merges arr[leftIndex..midIndex] with arr[midIndex+1..rightIndex]
      //make a new array B that we will copy our sorted jonks into
      //index on array B will be k
      //index on left array (left index to midIndex) will be i and the right array will be j
      var arrB = [], 
          i = leftIndex,
          k = leftIndex,
          j = midIndex+1;

      //while leftIndex is smaller than midIndex && midIndex+1 is smaller than right Index, meaning the array has mat least one element to compare, compare values in the arrays.
        //if arr[i] <= arr[j] then B[k] = arr[i] and increment i & k else B[k] = arr[j] and increment j & k
        //while i < midIndex, b[k] = arr[i] increment i and k
        //while j < rightIndex, b[k] = arr[j]
      while (i <= midIndex && j <= rightIndex) {
        if (arr[i] <= arr[j]) { 
          arrB[k] = arr[i];  
          i++;
          k++;
        } else {
          arrB[k] = arr[j];
          j++;
          k++;
        }
      }

      while (i <= midIndex) {
        arrB[k] = arr[i];
        i++; 
        k++;
      }

      while (j <= rightIndex) {
        arrB[k] = arr[j];
        j++;
        k++;
      }

        // copy b into arr
        // for i = leftIndex to rightIndex do A[i] = B[i]
      for (var m = leftIndex; m <= rightIndex; m++) {
        arr[m] = arrB[m];
      }
      console.log("inside merge function " + arr);
      return arr;
    }; 

    //console.log(merge([2,4],0, 0, 1));
    
    
   var mergeSort = function (unsorted, leftIndex, rightIndex) {
    
    //if leftIndex = rightIndex, array is broken into single values, start merging
    //else divide: 
    //call function to get middle based on indexes
    //call mergeSort (unsorted, leftIndex, middle)
    //call mergeSort(unsorted, middle, rightIndex);
    //when each subarray is only 2 values
    if (leftIndex < rightIndex) {
      console.log("array is longer than 1 element");
      var midIndex = leftIndex + Math.floor((rightIndex - leftIndex) / 2);
      console.log("midIndex is: " + midIndex);
      this.mergeSort(unsorted, leftIndex, midIndex);
      this.mergeSort(unsorted, midIndex+1, rightIndex);
      this.merge(unsorted, leftIndex, midIndex, rightIndex);
    }

};
    
    console.log("from mergeSort call " + mergeSort([5,3, 2, 1, 9, 1], 0, 5));
  </script>
  </head>
</html>




